{"version":3,"file":"storedetail.component.js","sourceRoot":"","sources":["storedetail.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit,Input,Output,EventEmitter} from '@angular/core';\nimport {CORE_DIRECTIVES} from '@angular/common';\nimport {StoreInfo,StoreSetupDetailContainer,StoreSetupDOW,RouteInfo,MerchGroup} from '../../../services/planning';\nimport {Ng2MapComponent,NG2_MAP_DIRECTIVES} from 'ng2-map';\nimport { DROPDOWN_DIRECTIVES} from 'ng2-bootstrap/ng2-bootstrap';\nimport { DispserviceService } from '../../../services/dispservice.service';\nimport {MerchConstant} from '../../../../app/MerchAppConstant';\nimport {MODAL_DIRECTIVES, BS_VIEW_PROVIDERS} from 'ng2-bootstrap/ng2-bootstrap';\n\n\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'storedetail',\n  templateUrl: 'storedetail.component.html',\n  styleUrls: ['storedetail.component.css'],\n  providers: [DispserviceService],\n  directives:[CORE_DIRECTIVES,NG2_MAP_DIRECTIVES,DROPDOWN_DIRECTIVES,MODAL_DIRECTIVES],\n  viewProviders: [BS_VIEW_PROVIDERS]\n})\nexport class StoredetailComponent implements OnInit {\n \n @Input() storeSelectedInfo: any ;\n  @Input() routeList: Array<any> ;\n   public disabled:boolean = false;\n    public status: { isopen: boolean } = { isopen: false };\n    private _webapi: string = MerchConstant.WebAPI_ENDPOINT;//'http://localhost:8888/';\n     @Input() selectedRoute: RouteInfo ;\n  \n     @Input() daysofWeek: Array<StoreSetupDOW> ;\n     @Input() ShowSaveMsg:boolean=false;\n     @Output() refreshList = new EventEmitter();\n      @Input() MerchGroupItem:MerchGroup;\n       @Output() cancelDetail = new EventEmitter();\n     \n\n\n    \n\n  constructor(private dispService: DispserviceService) {\n       Ng2MapComponent['apiUrl'] = \"https://maps.google.com/maps/api/js?key=AIzaSyCbMGRUwcqKjlYX4h4-P6t-xcDryRYLmCM\"; \n    \n  }\n    public toggled(open:boolean):void {\n        console.log('Dropdown is now: ', open);\n      }\n \n    public toggleDropdown($event: MouseEvent): void {\n        $event.preventDefault();\n        $event.stopPropagation();\n        this.status.isopen = !this.status.isopen;\n    }\n\n    onSelectRoute(route:any)\n    {\n      this.selectedRoute = route;\n    }\n\n    onChkChange(week:any)\n    {\n       if(week.FirstPull)\n         week.FirstPull = false;\n       else\n          week.FirstPull = true;\n    }\n\n    onSecondPullChkChange(p:any)\n    {\n        if(p.SecondPull)\n         p.SecondPull = false;\n       else\n          p.SecondPull = true;\n    }\n\n    onCancel()\n    {\n     this.cancelDetail.emit({});\n    }\n\n    onSave()\n    {\n      var route = this.selectedRoute;\n      var week1 = this.daysofWeek;\n      var input : any = {\n                         SAPBranchID : this.MerchGroupItem.SAPBranchID,\n                         MerchGroupID:this.MerchGroupItem.MerchGroupID,\n                         SAPAccountNumber:this.storeSelectedInfo.SAPAccountNumber,\n                         DefaultRouteID:this.selectedRoute.RouteID,\n                         WeekDays : this.daysofWeek,\n                         GSN:this.MerchGroupItem.LoggedInUser\n\n      }\n\n      this.insertStoreSetUpData(input,this.storeSelectedInfo);\n      \n    }\n\n     insertStoreSetUpData(input: any,store:StoreInfo) {\n        this.dispService.set(this._webapi + 'api/Merc/InsertUpdateStoreSetupDetails/');\n        this.dispService.post(JSON.stringify(input))\n            .subscribe(res => {\n                var data: any = res;           \n                if(data.ReturnStatus==1)\n                {\n                  \n                   var result : any = {ReturnStatus:data.ReturnStatus,Account:store};\n                   this.refreshList.emit(result);\n                }              \n               \n\n            },\n            error => {\n\n                if (error.status == 401 || error.status == 404) {\n                    //this.notificationService.printErrorMessage('Authentication required');\n                    //this.utilityService.navigateToSignIn();\n                }\n            });\n    }\n\n  ngOnInit() {\n      \n\n  }\n\n \n\n\n   \n}\n"]}