{"version":3,"file":"merchdetail.component.js","sourceRoot":"","sources":["merchdetail.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, Input, ComponentResolver, Output, EventEmitter} from '@angular/core';\nimport {CORE_DIRECTIVES} from '@angular/common';\nimport { DROPDOWN_DIRECTIVES} from 'ng2-bootstrap/ng2-bootstrap';\nimport { DispserviceService } from '../../../services/dispservice.service';\nimport {MerchConstant} from '../../../../app/MerchAppConstant';\nimport {MODAL_DIRECTIVES, BS_VIEW_PROVIDERS} from 'ng2-bootstrap/ng2-bootstrap';\nimport { MerchInfo, RouteData, MerchGroup, MerchSetupDetailInput} from '../MerchSetupClass';\n\n@Component({\n  moduleId: module.id,\n  selector: 'app-merchdetail',\n  templateUrl: 'merchdetail.component.html',\n  styleUrls: ['merchdetail.component.css'],\n  providers: [DispserviceService],\n  directives: [CORE_DIRECTIVES, DROPDOWN_DIRECTIVES, MODAL_DIRECTIVES],\n  viewProviders: [BS_VIEW_PROVIDERS]\n})\nexport class MerchdetailComponent implements OnInit {\n\n  @Input() routeList: Array<any>;\n  public disabled: boolean = false;\n  public status: { isopen: boolean } = { isopen: false };\n  private _webapi: string = MerchConstant.WebAPI_ENDPOINT;\n  @Input() selectedRoute: RouteData;  \n  @Input() ShowSaveMsg: boolean = false;\n  @Output() refreshList = new EventEmitter();\n  @Input() MerchGroupItem: MerchGroup;\n  @Output() cancelDetail = new EventEmitter();\n\n  @Input() merchSelectedInfo: MerchInfo;\n\n  public merchInput: MerchSetupDetailInput;\n  public merchPhone: string;\n\n  constructor(private dispService: DispserviceService) { }\n\n  public toggled(open: boolean): void {\n    //console.log('Dropdown is now: ', open);\n  }\n\n  public toggleDropdown($event: MouseEvent): void {\n    $event.preventDefault();\n    $event.stopPropagation();\n    this.status.isopen = !this.status.isopen;\n  }\n\n  onSelectRoute(route: any) {\n    this.selectedRoute = route;\n  }\n\n  onCancel() {\n    this.cancelDetail.emit({});\n  }\n\n  onSave() {\n    this.merchInput = new MerchSetupDetailInput(this.merchSelectedInfo.GSN, this.merchSelectedInfo.MerchName,\n                      this.merchSelectedInfo.FirstName, this.merchSelectedInfo.LastName, this.selectedRoute.RouteID,\n                      this.MerchGroupItem.MerchGroupID, this.merchSelectedInfo.Phone, this.merchSelectedInfo.Mon,\n                      this.merchSelectedInfo.Tues, this.merchSelectedInfo.Wed, this.merchSelectedInfo.Thu, this.merchSelectedInfo.Fri,\n                      this.merchSelectedInfo.Sat, this.merchSelectedInfo.Sun, this.MerchGroupItem.LoggedInUser);\n\n    this.insertMerchSetUpData(this.merchInput);\n\n  }\n\n\n\n  insertMerchSetUpData(merch: MerchSetupDetailInput) {\n    this.dispService.set(this._webapi + 'api/Merc/InsertUpdateMerchSetupDetail/');\n    this.dispService.post(JSON.stringify(merch))\n      .subscribe(res => {\n        var data: any = res;\n        if (data.ReturnStatus == 1) {\n          var result: any = { ReturnStatus: data.ReturnStatus, NewMerchInfo: merch };\n          this.refreshList.emit(result);\n        }\n\n      },\n      error => {\n        if (error.status == 401 || error.status == 404) {\n        }\n      });\n  }\n\n  ngOnInit() {\n  }\n\n}\n"]}