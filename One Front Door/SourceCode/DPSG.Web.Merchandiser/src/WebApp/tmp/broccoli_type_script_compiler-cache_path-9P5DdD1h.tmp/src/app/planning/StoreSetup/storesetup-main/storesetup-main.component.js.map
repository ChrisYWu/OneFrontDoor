{"version":3,"file":"storesetup-main.component.js","sourceRoot":"","sources":["storesetup-main.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAgE,eAAe,CAAC,CAAA;AAChF,uBAA8B,iBAAiB,CAAC,CAAA;AAChD,4BAAoC,gBAAgB,CAAC,CAAA;AACrD,4BAAqC,gBAAgB,CAAC,CAAA;AACtD,0BAAmC,cAAc,CAAC,CAAA;AAClD,oCAAmC,uCAAuC,CAAC,CAAA;AAC3E,iCAA4B,kCAAkC,CAAC,CAAA;AAC/D,yBAAiG,4BAA4B,CAAC,CAAA;AAG9H,kCAAiC,qCAAqC,CAAC,CAAA;AAcvE;IAkFE,iCAAoB,WAA+B,EAAQ,UAA4B;QAAnE,gBAAW,GAAX,WAAW,CAAoB;QAAQ,eAAU,GAAV,UAAU,CAAkB;QAjFhF,YAAO,GAAW,gCAAa,CAAC,eAAe,CAAC,CAAA,2BAA2B;QACzE,mBAAc,GAAgB,IAAI,sBAAW,EAAE,CAAC;QAChD,yBAAoB,GAAY,CAAC,CAAC;QAClC,kBAAa,GAAgB,EAAE,CAAC;QAChC,wBAAmB,GAAgB,EAAE,CAAC;QACtC,YAAO,GAAS,KAAK,CAAC;QAC9B,SAAI,GAAe,IAAI,qBAAU,EAAE,CAAC;QAI3B,cAAS,GAAU,CAAC,CAAC;QAG9B,uBAAuB;QACb,kBAAa,GAAG,IAAI,mBAAY,EAAE,CAAC;QACnC,sBAAiB,GAAG,IAAI,mBAAY,EAAE,CAAC;QACtC,gBAAW,GAAG,IAAI,mBAAY,EAAE,CAAC;QACjC,iBAAY,GAAG,IAAI,mBAAY,EAAE,CAAC;QAErC,eAAU,GAAc,EAAE,CAAC;QAG3B,aAAQ,GAAuB,EAAE,CAAC;IA8D3C,CAAC;IA3DH,mDAAmD;IAChD,kDAAgB,GAAhB,UAAiB,MAAM;QACnB,oCAAoC;QACrC,8CAA8C;QAC7C,IAAI,CAAC,oCAAoC,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAEpE,CAAC;IAEL,sDAAsD;IAClD,sDAAoB,GAApB,UAAqB,MAAM;QACvB,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;QAClC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,8BAA8B,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACxD,CAAC;IAGL,sFAAsF;IAClF,kDAAgB,GAAhB,UAAiB,MAAM;QAEnB,EAAE,CAAA,CAAC,MAAM,CAAC,YAAY,IAAE,CAAC,CAAC;YAC1B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI;YACJ,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QAErB,sCAAsC;QACtC,IAAI,CAAC,sBAAsB,CAAC,KAAK,EAAC,MAAM,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;IAEvE,CAAC;IAED,0DAAwB,GAAxB,UAAyB,QAAQ;QAE7B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACjD,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC;gBACpD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBAC1C,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;gBACf,KAAK,CAAC;YACV,CAAC;QACT,CAAC;IACT,CAAC;IAED,mDAAiB,GAAjB,UAAkB,MAAM;QAEpB,EAAE,CAAA,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,GAAC,CAAC,CAAC,CAC/B,CAAC;YACG,IAAI,CAAC,8BAA8B,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1D,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACxB,CAAC;QACD,IAAI,CACJ,CAAC;YACG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAC7B,CAAC;IACL,CAAC;IAWH,6CAAW,GAAX;QACE,kDAAkD;QAClD,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;IAClC,CAAC;IAGF,sDAAoB,GAApB;QAEK,IAAI,CAAC,QAAQ,GAAI,CAAC,EAAC,UAAU,EAAC,CAAC,EAAC,QAAQ,EAAC,QAAQ,EAAC,SAAS,EAAC,KAAK,EAAC,UAAU,EAAC,KAAK,EAAC;YACnE,EAAC,UAAU,EAAC,CAAC,EAAC,QAAQ,EAAC,SAAS,EAAC,SAAS,EAAC,KAAK,EAAC,UAAU,EAAC,KAAK,EAAC;YAClE,EAAC,UAAU,EAAC,CAAC,EAAC,QAAQ,EAAC,WAAW,EAAC,SAAS,EAAC,KAAK,EAAC,UAAU,EAAC,KAAK,EAAC;YACpE,EAAC,UAAU,EAAC,CAAC,EAAC,QAAQ,EAAC,UAAU,EAAC,SAAS,EAAC,KAAK,EAAC,UAAU,EAAC,KAAK,EAAC;YACnE,EAAC,UAAU,EAAC,CAAC,EAAC,QAAQ,EAAC,QAAQ,EAAC,SAAS,EAAC,KAAK,EAAC,UAAU,EAAC,KAAK,EAAC;YACjE,EAAC,UAAU,EAAC,CAAC,EAAC,QAAQ,EAAC,UAAU,EAAC,SAAS,EAAC,KAAK,EAAC,UAAU,EAAC,KAAK,EAAC;YACnE,EAAC,UAAU,EAAC,CAAC,EAAC,QAAQ,EAAC,QAAQ,EAAC,SAAS,EAAC,KAAK,EAAC,UAAU,EAAC,KAAK,EAAC,CAAC,CAAC;QACpF,IAAI,CAAC,eAAe,GAAG,IAAI,oBAAS,EAAE,CAAC;QACvC,IAAI,CAAC,eAAe,CAAC,OAAO,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,eAAe,CAAC;QACjD,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACzB,CAAC;IACA,0CAAQ,GAAR;QAAA,iBAcC;QAZE,WAAW;QACZ,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ;aACxC,SAAS,CAAC,UAAA,IAAI;YAEX,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,EAAE,CAAA,CAAC,KAAI,CAAC,IAAI,IAAE,IAAI,IAAI,KAAI,CAAC,IAAI,IAAE,SAAS,CAAC;gBAC3C,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC,CAEA,CAAC;IAGP,CAAC;IAED,+CAAa,GAAb,UAAc,IAAI;QAGf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAE5B,IAAI,CAAC,sBAAsB,CAAC,IAAI,EAAC,EAAE,CAAC,CAAC;IACzC,CAAC;IAGD,wDAAsB,GAAtB,UAAuB,MAAM,EAAC,QAAQ;QAAtC,iBAgDC;QA9CE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,mCAAmC,CAAC,CAAC;QACzE,IAAI,cAAc,GAAS,EAAC,WAAW,EAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAC,YAAY,EAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAC,CAAA;QAE/F,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,EAAE,IAAI,CAAC;aACtD,SAAS,CAAC,UAAA,GAAG;YACV,IAAI,CAAC,GAAQ,GAAG,CAAC;YACjB,KAAI,CAAC,aAAa,GAAG,CAAC,CAAC,MAAM,CAAC;YAC9B,KAAI,CAAC,UAAU,GAAG,CAAC,CAAC,MAAM,CAAC;YAE3B,EAAE,CAAA,CAAC,MAAM,CAAC,CACV,CAAC;gBACO,KAAI,CAAC,YAAY,GAAG,CAAC,CAAC,WAAW,CAAC;gBAClC,EAAE,CAAA,CAAC,CAAC,CAAC,WAAW,IAAE,IAAI,CAAC;oBACnB,KAAI,CAAC,eAAe,GAAG,CAAC,CAAC,WAAW,CAAC;gBAErC;oBAEI,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAC,IAAS;wBAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAChD,CAAC;4BAAC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;4BAC3C,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;wBAAC,CAAC;oBACjD,CAAC,CAAC,CAAC;;gBANH,GAAG,CAAA,CAAC,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAC,CAAC,EAAE;;iBAOlC;gBAGT,EAAE,CAAA,CAAC,KAAI,CAAC,aAAa,IAAE,IAAI,IAAI,KAAI,CAAC,aAAa,CAAC,MAAM,IAAE,CAAC,CAAC,CAC5D,CAAC;oBACG,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;gBAC7B,CAAC;gBACF,KAAI,CAAC,SAAS,GAAG,CAAC,CAAC;YACtB,CAAC;YAED,IAAI,CACJ,CAAC;gBACG,KAAI,CAAC,wBAAwB,CAAC,QAAQ,CAAC,CAAC;YAC5C,CAAC;QAET,CAAC,EAEG,UAAA,KAAK;YAED,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,GAAG,IAAI,KAAK,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,CAAC;YAGjD,CAAC;QACL,CAAC,CAAC,CAAC;IACb,CAAC;IAGD,6DAA2B,GAA3B;QAAA,iBA8BC;QA5BE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,mCAAmC,CAAC,CAAC;QACzE,IAAI,cAAc,GAAS,EAAC,WAAW,EAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAC,YAAY,EAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAC,CAAA;QAE/F,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,EAAE,IAAI,CAAC;aACtD,SAAS,CAAC,UAAA,GAAG;YACV,IAAI,CAAC,GAAQ,GAAG,CAAC;YACjB,KAAI,CAAC,aAAa,GAAG,CAAC,CAAC,MAAM,CAAC;YAG9B,EAAE,CAAA,CAAC,KAAI,CAAC,aAAa,IAAE,IAAI,IAAI,KAAI,CAAC,aAAa,CAAC,MAAM,GAAC,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,CAC5E,CAAC;gBACI,KAAI,CAAC,8BAA8B,CAAC,KAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;YAEpE,CAAC;YAED,EAAE,CAAA,CAAC,KAAI,CAAC,aAAa,IAAE,IAAI,IAAI,KAAI,CAAC,aAAa,CAAC,MAAM,IAAE,CAAC,CAAC,CAC5D,CAAC;gBACG,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YAC7B,CAAC;QACL,CAAC,EAEG,UAAA,KAAK;YAED,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,GAAG,IAAI,KAAK,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,CAAC;YAGjD,CAAC;QACL,CAAC,CAAC,CAAC;IACb,CAAC;IAEA,yDAAuB,GAAvB;QAAA,iBAmBA;QAjBE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,mCAAmC,CAAC,CAAC;QACzE,IAAI,cAAc,GAAS,EAAC,WAAW,EAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAC,YAAY,EAAG,IAAI,CAAC,IAAI,CAAC,YAAY,EAAC,CAAA;QAEjG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,EAAE,IAAI,CAAC;aACtD,SAAS,CAAC,UAAA,GAAG;YACV,IAAI,CAAC,GAAQ,GAAG,CAAC;YACjB,KAAI,CAAC,UAAU,GAAG,CAAC,CAAC,MAAM,CAAC;QAE/B,CAAC,EAED,UAAA,KAAK;YAED,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,GAAG,IAAI,KAAK,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,CAAC;YAGjD,CAAC;QACL,CAAC,CAAC,CAAC;IACb,CAAC;IAGF,kEAAgC,GAAhC;QAAA,iBAmBE;QAjBE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,wCAAwC,CAAC,CAAC;QAC9E,IAAI,cAAc,GAAS,EAAC,WAAW,EAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAC,CAAA;QAE3D,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,EAAE,IAAI,CAAC;aACtD,SAAS,CAAC,UAAA,GAAG;YACV,IAAI,CAAC,GAAQ,GAAG,CAAC;YACjB,KAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC,MAAM,CAAC;QAExC,CAAC,EAED,UAAA,KAAK;YAED,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,GAAG,IAAI,KAAK,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,CAAC;YAGjD,CAAC;QACL,CAAC,CAAC,CAAC;IACb,CAAC;IAGD,gEAA8B,GAA9B,UAA+B,KAAS;QAAxC,iBAiCG;QAhCG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,6CAA6C,GAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;QAC1G,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE;aACjB,SAAS,CAAC,UAAA,GAAG;YACV,IAAI,IAAI,GAAQ,GAAG,CAAC,IAAI,EAAE,CAAC;YAC3B,IAAI,MAAM,GAAS,EAAE,OAAO,EAAE,IAAI,EAAC,OAAO,EAAC,KAAK,EAAC,CAAC;YAG9C,KAAI,CAAC,oBAAoB,EAAE,CAAC;YAC7B,8BAA8B;YAC7B,IAAI,MAAM,GAAG,IAAI,CAAC;YAClB,KAAI,CAAC,YAAY,GAAG,MAAM,CAAC,WAAW,CAAC;YAEvC,EAAE,CAAA,CAAC,MAAM,CAAC,MAAM,IAAE,IAAI,CAAC;gBACvB,KAAI,CAAC,eAAe,GAAG,MAAM,CAAC,MAAM,CAAC;YACrC;gBAEI,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAC,IAAS;oBAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CACrD,CAAC;wBAAC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;wBAChD,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;oBAAC,CAAC;gBACtD,CAAC,CAAC,CAAC;;YANH,GAAG,CAAA,CAAC,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAC,CAAC,EAAE;;aAQvC;QAET,CAAC,EACD,UAAA,KAAK;YAED,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,GAAG,IAAI,KAAK,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,CAAC;YAGjD,CAAC;QACL,CAAC,CAAC,CAAC;IACX,CAAC;IAGA,sEAAoC,GAApC,UAAqC,KAAS;QAA9C,iBAiCA;QAhCG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,6CAA6C,GAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;QAC1G,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE;aACjB,SAAS,CAAC,UAAA,GAAG;YACV,IAAI,IAAI,GAAQ,GAAG,CAAC,IAAI,EAAE,CAAC;YAC5B,qDAAqD;YAGhD,KAAI,CAAC,oBAAoB,EAAE,CAAC;YAC7B,8BAA8B;YAC9B,qBAAqB;YACpB,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC;YAErC,0BAA0B;YAC1B,wCAAwC;YACxC,4CAA4C;YAC5C,IAAI;YACJ,yCAAyC;YACzC,4DAA4D;YAC5D,uDAAuD;YACvD,yDAAyD;YACzD,MAAM;YAEN,UAAU;QAElB,CAAC,EACD,UAAA,KAAK;YAED,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,GAAG,IAAI,KAAK,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,CAAC;YAGjD,CAAC;QACL,CAAC,CAAC,CAAC;IACX,CAAC;IA3TF;QAAC,aAAM,EAAE;;kEAAA;IACT;QAAC,aAAM,EAAE;;sEAAA;IACR;QAAC,aAAM,EAAE;;gEAAA;IACT;QAAC,aAAM,EAAE;;iEAAA;IA5Bb;QAAC,gBAAS,CAAC;YACT,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,qBAAqB;YAC/B,WAAW,EAAE,gCAAgC;YAC7C,SAAS,EAAE,CAAC,+BAA+B,CAAC;YAC5C,UAAU,EAAC,CAAC,wBAAe,EAAC,iCAAmB,EAAC,kCAAoB,EAAC,8BAAkB,CAAC;YACxF,SAAS,EAAE,CAAC,wCAAkB,EAAC,oCAAgB,CAAC;SAGjD,CAAC;;+BAAA;IA8UF,8BAAC;AAAD,CAAC,AA7UD,IA6UC;AA7UY,+BAAuB,0BA6UnC,CAAA","sourcesContent":["import { Component, OnInit,Output,EventEmitter,ViewChild } from '@angular/core';\nimport {CORE_DIRECTIVES} from '@angular/common';\nimport { StoresListComponent } from '../stores-list';\nimport { StoredetailComponent } from '../storedetail';\nimport { StoreitemComponent } from '../storeitem';\nimport { DispserviceService } from '../../../services/dispservice.service';\nimport {MerchConstant} from '../../../../app/MerchAppConstant';\nimport {MerchBranch,StoreInfo,StoreSetupDetailContainer,StoreSetupDOW,RouteInfo,MerchGroup} from '../../../services/planning';\nimport { StorelistPopupComponent } from '../storelist-popup';\nimport {Subscription} from 'rxjs/Subscription';\nimport { HeadernavService } from '../../../services/headernav.service';\n\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'app-storesetup-main', \n  templateUrl: 'storesetup-main.component.html',\n  styleUrls: ['storesetup-main.component.css'],\n  directives:[CORE_DIRECTIVES,StoresListComponent,StoredetailComponent,StoreitemComponent], \n  providers: [DispserviceService,HeadernavService]\n \n\n})\nexport class StoresetupMainComponent implements OnInit {\n private _webapi: string = MerchConstant.WebAPI_ENDPOINT;//'http://localhost:8888/';\n   private selectedBranch: MerchBranch = new MerchBranch();\n   private selectedMerchGroupID : number = 0;\n   private inputAcctList : Array<any> = [];\n   private inputAcctLookupList : Array<any> = [];\n   private SaveMsg:boolean=false;\n   item: MerchGroup = new MerchGroup();\n   subscription:Subscription;\n\n\n   private  listIndex : number=0;\n\n\n   //StoreDetail Variables\n   @Output() storeSelected = new EventEmitter();\n   @Output() storeListSelected = new EventEmitter();\n    @Output() refreshList = new EventEmitter();\n    @Output() cancelDetail = new EventEmitter();\n\n   private routesList : Array<any>=[]; \n    private selStoreInfo : StoreInfo ;\n    private selDefaultRoute:RouteInfo; \n    public weekDays :Array<StoreSetupDOW>=[];\n    private removeStore : StoreInfo;\n  \n//set the selected store from the store list pop up\n   setselectedStore($event) {  \n       //this.initalizeStoreDetail();      \n      // this.selStoreInfo = $event.$event.Account; \n       this.initalizeStoreDetailsByAccountNumber($event.$event.Account);   \n    \n    }\n\n//set the selected store from the store list left side\n    setListselectedStore($event) {\n        this.listIndex = $event.ListIndex;\n        this.SaveMsg = false;\n        this.getStoreDetailsByAccountNumber($event.Account);   \n    }\n\n\n//Refresh the store list left hand side and the store lookup list after save the store\n    refreshStoreList($event)\n    {\n        if($event.ReturnStatus==1)\n        this.SaveMsg = true;\n        else\n        this.SaveMsg = false;\n\n        // this.getStoresListByMerchGroupID();\n        this.getStoreSetUpContainer(false,$event.Account.SAPAccountNumber);            \n\n    }\n\n    setAddedStoreIndexInList(newStore)\n    {\n        for (var i = 0; i < this.inputAcctList.length; i++) { \n            if (this.inputAcctList[i][\"SAPAccountNumber\"] == newStore) {\n                    this.selStoreInfo = this.inputAcctList[i];   \n                    this.listIndex = i;                 \n                        break;\n                    }\n            }     \n    }\n\n    cancelDetailStore($event)\n    {\n        if(this.inputAcctList.length>0)\n        {\n            this.getStoreDetailsByAccountNumber(this.inputAcctList[0]);\n             this.listIndex = 0; \n        }\n        else\n        {\n            this.selStoreInfo = null;\n        }\n    }\n\n   \n   \n\n  constructor(private dispService: DispserviceService,public navService: HeadernavService) {    \n       \n\n  }\n\n\n  ngOnDestroy() {\n    // prevent memory leak when component is destroyed\n    this.subscription.unsubscribe();\n  }\n\n   \n initalizeStoreDetail()\n {\n      this.weekDays =  [{Weeknumber:2,WeekName:'Monday',FirstPull:false,SecondPull:false},\n                      {Weeknumber:3,WeekName:'Tuesday',FirstPull:false,SecondPull:false},\n                      {Weeknumber:4,WeekName:'Wednesday',FirstPull:false,SecondPull:false},\n                      {Weeknumber:5,WeekName:'Thursday',FirstPull:false,SecondPull:false},\n                      {Weeknumber:6,WeekName:'Friday',FirstPull:false,SecondPull:false},\n                      {Weeknumber:7,WeekName:'Saturday',FirstPull:false,SecondPull:false},\n                      {Weeknumber:1,WeekName:'Sunday',FirstPull:false,SecondPull:false}];\n     this.selDefaultRoute = new RouteInfo();\n     this.selDefaultRoute.RouteID = null;\n     this.selDefaultRoute.RouteName = 'Default Route';    \n     this.SaveMsg = false;\n }\n  ngOnInit() \n  {   \n     //Subscribe\n    this.subscription = this.navService.navItem$\n       .subscribe(item => \n       {\n           this.item = item;\n           if(this.item!=null || this.item!=undefined)\n           this.loadStoreData(item);\n       }\n      \n       );   \n    \n       \n  }\n\n  loadStoreData(item)\n  {\n     \n     this.item = item;\n      this.initalizeStoreDetail();\n\n      this.getStoreSetUpContainer(true,'');   \n  }\n\n\n  getStoreSetUpContainer(isLoad,newStore)\n  {\n     this.dispService.set(this._webapi + 'api/Merc/GetStoresSetupContainer/');\n     var storeListInput : any = {SAPBranchID:this.item.SAPBranchID,MerchGroupID:this.item.MerchGroupID}\n\n        this.dispService.post(JSON.stringify(storeListInput), true)\n            .subscribe(res => {\n                var d: any = res;\n                this.inputAcctList = d.Stores; \n                this.routesList = d.Routes; \n\n                if(isLoad)\n                {                \n                        this.selStoreInfo = d.StoreDetail; \n                        if(d.RouteDetail!=null)\n                            this.selDefaultRoute = d.RouteDetail;\n\n                            for(let w=0;w<d.WeekDays.length;w++)\n                            {\n                                this.weekDays.map((item: any) => {\n                                if (item.Weeknumber == d.WeekDays[w].Weeknumber)\n                                { item.FirstPull = d.WeekDays[w].FirstPull;\n                                item.SecondPull = d.WeekDays[w].SecondPull; }\n                            });\n                            }\n                \n\n                    if(this.inputAcctList==null || this.inputAcctList.length==0)\n                    {\n                        this.selStoreInfo = null;\n                    }\n                   this.listIndex = 0;\n                }\n\n                else\n                {\n                    this.setAddedStoreIndexInList(newStore);\n                }\n          \n        },\n\n            error => {\n\n                if (error.status == 401 || error.status == 404) {\n                    //this.notificationService.printErrorMessage('Authentication required');\n                    //this.utilityService.navigateToSignIn();\n                }\n            });\n  }\n\n\n  getStoresListByMerchGroupID()\n  {\n     this.dispService.set(this._webapi + 'api/Merc/GetStoresByMerchGroupID/');\n     var storeListInput : any = {SAPBranchID:this.item.SAPBranchID,MerchGroupID:this.item.MerchGroupID}\n\n        this.dispService.post(JSON.stringify(storeListInput), true)\n            .subscribe(res => {\n                var d: any = res;\n                this.inputAcctList = d.Stores; \n                  \n\n                if(this.inputAcctList!=null && this.inputAcctList.length>0 && !this.SaveMsg)\n                {\n                     this.getStoreDetailsByAccountNumber(this.inputAcctList[0]); \n                     \n            }\n\n            if(this.inputAcctList==null || this.inputAcctList.length==0)\n            {\n                this.selStoreInfo = null;\n            }\n        },\n\n            error => {\n\n                if (error.status == 401 || error.status == 404) {\n                    //this.notificationService.printErrorMessage('Authentication required');\n                    //this.utilityService.navigateToSignIn();\n                }\n            });\n  }\n\n   getRoutesByMerchGroupID()\n  {\n     this.dispService.set(this._webapi + 'api/Merc/GetRoutesByMerchGroupID/');\n     var storeListInput : any = {SAPBranchID:this.item.SAPBranchID,MerchGroupID : this.item.MerchGroupID}\n\n        this.dispService.post(JSON.stringify(storeListInput), true)\n            .subscribe(res => {\n                var d: any = res;\n                this.routesList = d.Routes;                             \n\n            },\n\n            error => {\n\n                if (error.status == 401 || error.status == 404) {\n                    //this.notificationService.printErrorMessage('Authentication required');\n                    //this.utilityService.navigateToSignIn();\n                }\n            });\n  }\n\n\n getStoresLookupListBySAPBranchID()\n  {\n     this.dispService.set(this._webapi + 'api/Merc/GetStoresLookUpBySAPBranchID/');\n     var storeListInput : any = {SAPBranchID:this.item.SAPBranchID}\n\n        this.dispService.post(JSON.stringify(storeListInput), true)\n            .subscribe(res => {\n                var d: any = res;\n                this.inputAcctLookupList = d.Stores;                             \n\n            },\n\n            error => {\n\n                if (error.status == 401 || error.status == 404) {\n                    //this.notificationService.printErrorMessage('Authentication required');\n                    //this.utilityService.navigateToSignIn();\n                }\n            });\n  }\n\n\n  getStoreDetailsByAccountNumber(store:any) {\n        this.dispService.set(this._webapi + 'api/Merc/GetStoreDetailsBySAPAccountNumber/'+store.SAPAccountNumber);\n        this.dispService.get()\n            .subscribe(res => {\n                var data: any = res.json();          \n                var result : any = { details: data,Account:store};\n               \n\n                    this.initalizeStoreDetail();\n                   // this.selStoreInfo = store; \n                    var result = data;\n                    this.selStoreInfo = result.StoreDetail; \n\n                    if(result.Detail!=null)\n                    this.selDefaultRoute = result.Detail;\n                    for(let w=0;w<result.WeekDays.length;w++)\n                    {\n                        this.weekDays.map((item: any) => {\n                        if (item.Weeknumber == result.WeekDays[w].Weeknumber)\n                        { item.FirstPull = result.WeekDays[w].FirstPull;\n                        item.SecondPull = result.WeekDays[w].SecondPull; }\n                    });\n            \n                    }      \n\n            },\n            error => {\n\n                if (error.status == 401 || error.status == 404) {\n                    //this.notificationService.printErrorMessage('Authentication required');\n                    //this.utilityService.navigateToSignIn();\n                }\n            });\n    }\n\n\n     initalizeStoreDetailsByAccountNumber(store:any) {\n        this.dispService.set(this._webapi + 'api/Merc/GetStoreDetailsBySAPAccountNumber/'+store.SAPAccountNumber);\n        this.dispService.get()\n            .subscribe(res => {\n                var data: any = res.json();          \n               // var result : any = { details: data,Account:store};\n               \n\n                    this.initalizeStoreDetail();\n                   // this.selStoreInfo = store; \n                   // var result = data;\n                    this.selStoreInfo = data.StoreDetail; \n\n                    // if(result.Detail!=null)\n                    // this.selDefaultRoute = result.Detail;\n                    // for(let w=0;w<result.WeekDays.length;w++)\n                    // {\n                    //     this.weekDays.map((item: any) => {\n                    //     if (item.Weeknumber == result.WeekDays[w].Weeknumber)\n                    //     { item.FirstPull = result.WeekDays[w].FirstPull;\n                    //     item.SecondPull = result.WeekDays[w].SecondPull; }\n                    // });\n            \n                    // }      \n\n            },\n            error => {\n\n                if (error.status == 401 || error.status == 404) {\n                    //this.notificationService.printErrorMessage('Authentication required');\n                    //this.utilityService.navigateToSignIn();\n                }\n            });\n    }\n\n\n}\n"]}