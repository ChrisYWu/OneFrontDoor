{"version":3,"file":"rsstorereassign.component.js","sourceRoot":"","sources":["rsstorereassign.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport {CORE_DIRECTIVES} from '@angular/common';\nimport {MODAL_DIRECTIVES, BS_VIEW_PROVIDERS, ModalDirective, DROPDOWN_DIRECTIVES} from 'ng2-bootstrap/ng2-bootstrap';\nimport {DispserviceService } from '../../services/dispservice.service';\nimport {Dispatches, Store, Route, ReassignStoreInput, DispatchOutput} from '../RouteStoreAssignment';\nimport {MerchConstant} from '../../../app/MerchAppConstant';\n\n\n@Component({\n    moduleId: module.id,\n    selector: 'app-rsstorereassign',\n    templateUrl: 'rsstorereassign.component.html',\n    styleUrls: ['rsstorereassign.component.css'],\n    directives: [MODAL_DIRECTIVES, DROPDOWN_DIRECTIVES, CORE_DIRECTIVES],\n    viewProviders: [BS_VIEW_PROVIDERS],\n    providers: [DispserviceService]\n})\nexport class RsstorereassignComponent implements OnInit {\n\n    private _webapi: string = MerchConstant.WebAPI_ENDPOINT;\n    public routeId: number;\n    public routeName: string;\n    public gsn: string;\n    public reassignStore: ReassignStoreInput;\n    public resultInsert: DispatchOutput;\n\n\n    @Input() lastModifiedByInput: string;\n    @Input() storeInput: Store;\n    @Input() routeData: Dispatches;\n    @Input() routesInput: Array<Route>;\n    @Input() routeNameInput: string;\n    @Input() selectedWeekDayInput: number;\n    @Output() routeReassigned = new EventEmitter();\n    @Output() merchReassigned = new EventEmitter();\n\n    constructor(public dispService: DispserviceService) { }\n\n    selectedRoute(routeid: number, routename: string, gsn: string) {\n        this.routeId = routeid;\n        this.routeName = routename;\n        this.gsn = gsn;\n    }\n\n    setupdatedroute($event) {\n\n        this.reassignStore = new ReassignStoreInput(this.selectedWeekDayInput,\n            this.storeInput.Sequence,\n            this.lastModifiedByInput,\n            this.routeData.MerchGroupID,\n            this.routeId,\n            this.routeData.RouteID,\n            this.storeInput.AccountID);\n\n        this.dispService.set(this._webapi + 'api/Merc/ReassignStorebyWeekDay/');\n\n        this.dispService.post(JSON.stringify(this.reassignStore))\n            .subscribe(res => {\n                var data: any = res;\n                this.resultInsert = data;\n                if (this.resultInsert.ReturnStatus == 1) {\n                    this.routeData.Stores.splice(this.storeInput.Sequence - 1, 1);\n                    this.storeInput.PullNumber = '';\n                    this.routeReassigned.emit(\n                        { routeid: this.routeId, store: this.storeInput }\n                    )\n\n                }\n\n            },\n            error => {\n\n                if (error.status == 401 || error.status == 404) {\n                    //this.notificationService.printErrorMessage('Authentication required');\n                    //this.utilityService.navigateToSignIn();\n                }\n            });\n    }\n\n    ngOnInit() {\n    }\n\n}\n"]}